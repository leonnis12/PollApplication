{% extends "poll/base.html" %}

{% block title %}Vote{% endblock %}

{% block main %}
<div class="row">
    <div class="col-lg-8 col-lg-offset-2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Cast Your Vote</h3>
            </div>

            <div class="panel-body">
				<div class="row">
					<div class="col-lg-12">
						<h2>{{ poll.question }}</h2>
					</div>
				</div>

				<div class="row">
					<div class="col-lg-12">
						<hr />

						<form method="POST" id="form">
							{% csrf_token %}
							<div class="form-group">
								<div class="radio required">
									<label>
										<input type="radio" name="poll" value="option1">
										{{ poll.option_one }}
									</label> &nbsp;
									<label>
										<input type="radio" name="poll" value="option2">
										{{ poll.option_two }}
									</label> &nbsp;
									<label>
										<input type="radio" name="poll" value="option3">
										{{ poll.option_three }}
									</label> &nbsp;
								</div>
							</div>

							<hr />

							<div class="row col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
									<button type="button" id="sub" class="btn btn-info">
										Submit
									</button>
								</div>
								<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
									<a href="{% url 'results' poll.id %}" style="vertical-align: middle;" class="btn btn-info">View Results</a>
								</div>
							</div>

							<script>
								$('#sub').on('click', function() {
									if($('div.radio.required :radio:checked').length <= 0)
										alert("Please pick an option");
									else{
										$('#form').submit();
									}
								});
							</script>
						</form>
					</div>
				</div>
			</div>

        </div>
    </div>
</div>
{% endblock %}